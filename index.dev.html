<!doctype html>
<html>

<head>
    <title>CSW</title>

    <base href="/">

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    <link href="dist/style.css" type="text/css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:900' rel='stylesheet' type='text/css'>
</head>

<body ng-app="rms" class="md-body-1" layout-gt-xs="row" layout-xs="column" ng-controller="NavController as nav" ng-mousedown="nav.somethingHappened()" ng-keydown="nav.somethingHappened()">

<style>
    .primary-background {
        background-color: {{primaryColor}};
    }

    .primary-color {
        color: {{primaryColor}};
    }

    .accent-background {
        background-color: {{accentColor}};
    }

    .accent-color {
        color: {{accentColor}};
    }
</style>

<md-toolbar class="md-primary" hide-gt-xs>
    <div class="md-toolbar-tools">
        <md-button class="md-icon-button" ng-click="nav.openSidenav()">
            <md-icon>
                menu
            </md-icon>
        </md-button>
        <h2>
            {{nav.getCurrentStateName()}}
        </h2>
    </div>
</md-toolbar>

<md-sidenav
        layout="column"
        class="sidenav md-sidenav-left md-whiteframe-z3"
        ng-class="{ 'primary-background': !nav.isMobile() }"
        md-is-locked-open="$mdMedia('gt-xs') && nav.isLoggedIn() && !nav.isInState('newPin') && !nav.isInState('login')"
        md-component-id="left">
    <header>
        <a ui-sref="home">
            C S W
        </a>
    </header>
    <md-content flex>
        <ul>
            <li>
                <md-button class="nav-link-side" ng-class="{'md-accent': nav.isInState('home')}" ui-sref="home">
                    Home
                </md-button>
            </li>
            <li>
                <md-button class="nav-link-side" ng-class="{'md-accent': nav.isInState('deviceReservation')}" ui-sref="deviceReservationList">
                    Reservierungen
                </md-button>
            </li>
            <li ng-if="nav.isLecturer()">
                <md-button class="nav-link-side" ng-class="{'md-accent': nav.isInState('room')}" ui-sref="room">
                    Raumbuchung
                </md-button>
            </li>
            <li ng-if="nav.isCswTeam()">
                <md-button class="nav-link-side" ng-class="{'md-accent': nav.isInState('management')}"
                           ui-sref="management.users.list">
                    Verwaltung
                </md-button>
            </li>
            <li ng-controller="TicketNavController as tickets" ng-if="nav.isCswTeam()">
                <md-button class="nav-link-side" ng-class="{'md-accent': nav.isInState('tickets')}" ui-sref="tickets.roomReservation">
                    Tickets <span ng-if="tickets.getAllCount() > 0">({{tickets.getAllCount()}})</span>
                </md-button>
            </li>
            <li>
                <md-button class="nav-link-side" ng-class="{'md-accent': nav.isInState('calendar')}" ui-sref="calendar">
                    Kalender
                </md-button>
            </li>
            <li>
                <md-button class="nav-link-side" ng-class="{'md-accent': nav.isInState('profile')}" ui-sref="profile">
                    Profil
                </md-button>
            </li>
        </ul>
    </md-content>
    <md-button class="nav-link-side" ng-click="nav.supportTicket()">Problem melden</md-button>
    <md-button class="nav-link-side" ng-click="nav.logout()">
        Logout
    </md-button>
</md-sidenav>

<md-content ui-view role="main" flex layout="column"></md-content>


<!-- inject:js -->
<!-- endinject -->

</body>

</html>
